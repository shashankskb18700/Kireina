{"ast":null,"code":"var _jsxFileName = \"/Users/shashankshekhar/REACTJS/animeser/Client/src/components/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport { orderBy } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport { dbService } from \"../../firebase/fbase\"; //\n\nimport Search from \"../search/search\";\nimport Header from \"./HomeComponent/Header/Header\";\nimport TopAriring from \"./HomeComponent/TopAiring/TopAnime\"; //\n\nimport \"./Home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [item, setItem] = useState({});\n  const {\n    onSnapshot,\n    collection\n  } = dbService;\n  useEffect(() => {\n    const dataArr = [\"headr\", \"topAiring\", \"topUpcoming\", \"allTime\"];\n    const arc = [];\n    const newObj = {};\n    const headerQuery = dbService.query(collection(dbService.getFirestore(), \"header\"), orderBy(\"id\", \"asc\"));\n    const topAiringQuery = dbService.query(collection(dbService.getFirestore(), \"topAiring\"), orderBy(\"id\", \"asc\"));\n    const topUpcomingQuery = dbService.query(collection(dbService.getFirestore(), \"topUpcoming\"), orderBy(\"id\", \"asc\"));\n    const allTimeQuery = dbService.query(collection(dbService.getFirestore(), \"allTime\"), orderBy(\"id\", \"asc\"));\n    const dataObj = {\n      headr: headerQuery,\n      topAiring: topAiringQuery,\n      topUpcoming: topUpcomingQuery,\n      allTime: allTimeQuery\n    };\n    dataArr.map(async a => {\n      await onSnapshot(dataObj[a], snapshot => {\n        const arr = snapshot.docs.map(docs => ({\n          id: docs.id,\n          ...docs.data()\n        }));\n        newObj[a] = arr;\n        arc.push(arr);\n        console.log(arc);\n        console.log(newObj); // let head = newObj[\"headr\"];\n        // let top = newObj[\"topAiring\"];\n        // setTopAir(top);\n        // setHeader(head);\n        // console.log(head);\n\n        setItem({ ...newObj\n        });\n      });\n    }); // setItem({ ...newObj });\n\n    console.log(newObj); // onSnapshot(headerQuery, (snapshot) => {\n    //   const arr = snapshot.docs.map((docs) => ({\n    //     id: docs.id,\n    //     ...docs.data(),\n    //   }));\n    //   setItem({ headr: arr, ...item });\n    // });\n  }, []);\n  console.log(\"form my side\");\n  console.log(item);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hom\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      imgArray: item ? item.headr : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cont-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Best-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"Best-T\",\n          children: \"Top Airing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TopAriring, {\n          imgArray: item ? item.topAiring : undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Best-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"Best-T\",\n          children: \"Top Upcoming\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TopAriring, {\n          imgArray: item ? item.topUpcoming : undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Best-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"Best-T\",\n          children: \"All Time Popular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TopAriring, {\n          imgArray: item ? item.allTime : undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"KKey/8qmkh44AKotShPHEj0ZR3w=\");\n\n_c = Home;\nexport default Home; //\n//\n// for each runs completly before running of onSnapshot ,this might be happening because onSnapshot does not run instantly\n// snapshot is taking time and thats why all them runs and in the end only allTime is left and it keep on runntig for four time s\n// one  option is you can use four snapshot because you already  have four query\n//\n//\n// somehow this query thing is running for 4 time  in earlier and then other code run but why it should not  run whole thing form top to bottom .  and this thing causes issue  , when we are using newObj , and thats why when we reach snapshot a is only all time and we are keep on extracting that from  newObj\n// dbService.onSnapshot(dbService.collection(dbService.))\n//need to do this thing for all four component\n// onSnapshot(collection(dbService.getFirestore(), \"header\"), (snapshot) => {\n//   const arr = snapshot.docs.map((docs) => ({\n//     id: docs.id,\n//     ...docs.data(),\n//   }));\n//   setItem(arr);\n// });\n//________********)______________************)______________\n//_______**********__________************____________************____\n// const dataObj = {\n//   headr: headerQuery,\n//   month: monthlyQuery,\n//   topUpcoming: topUpcominglyQuery,\n//   allTime: allTimeQuery,\n// };\n// dataArr.forEach((a) => {\n//   newObj[a] = dbService.query(\n//     collection(dbService.getFirestore(), \"allTime\"),\n//     orderBy(\"id\", \"asc\")\n//   );\n//   // console.log(\"newObj fans\");\n//   // console.log(newObj);\n// });\n// when i sperated query i am getting all the  snapshot but when i take query with the help of for loop and am unable to get snapshot\n// so is this means something wrong with query  or    query is a different type of action and snapshot is a different type of action\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/shashankshekhar/REACTJS/animeser/Client/src/components/Home/Home.js"],"names":["orderBy","React","useEffect","useState","dbService","Search","Header","TopAriring","Home","item","setItem","onSnapshot","collection","dataArr","arc","newObj","headerQuery","query","getFirestore","topAiringQuery","topUpcomingQuery","allTimeQuery","dataObj","headr","topAiring","topUpcoming","allTime","map","a","snapshot","arr","docs","id","data","push","console","log","undefined"],"mappings":"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","sourcesContent":["import { orderBy } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport { dbService } from \"../../firebase/fbase\";\n\n//\n\nimport Search from \"../search/search\";\nimport Header from \"./HomeComponent/Header/Header\";\nimport TopAriring from \"./HomeComponent/TopAiring/TopAnime\";\n\n//\n\nimport \"./Home.css\";\n\nconst Home = () => {\n  const [item, setItem] = useState({});\n\n  const { onSnapshot, collection } = dbService;\n\n  useEffect(() => {\n    const dataArr = [\"headr\", \"topAiring\", \"topUpcoming\", \"allTime\"];\n\n    const arc = [];\n    const newObj = {};\n\n    const headerQuery = dbService.query(\n      collection(dbService.getFirestore(), \"header\"),\n      orderBy(\"id\", \"asc\")\n    );\n\n    const topAiringQuery = dbService.query(\n      collection(dbService.getFirestore(), \"topAiring\"),\n      orderBy(\"id\", \"asc\")\n    );\n\n    const topUpcomingQuery = dbService.query(\n      collection(dbService.getFirestore(), \"topUpcoming\"),\n      orderBy(\"id\", \"asc\")\n    );\n\n    const allTimeQuery = dbService.query(\n      collection(dbService.getFirestore(), \"allTime\"),\n      orderBy(\"id\", \"asc\")\n    );\n\n    const dataObj = {\n      headr: headerQuery,\n      topAiring: topAiringQuery,\n      topUpcoming: topUpcomingQuery,\n      allTime: allTimeQuery,\n    };\n\n    dataArr.map(async (a) => {\n      await onSnapshot(dataObj[a], (snapshot) => {\n        const arr = snapshot.docs.map((docs) => ({\n          id: docs.id,\n          ...docs.data(),\n        }));\n        newObj[a] = arr;\n        arc.push(arr);\n        console.log(arc);\n\n        console.log(newObj);\n\n        // let head = newObj[\"headr\"];\n        // let top = newObj[\"topAiring\"];\n        // setTopAir(top);\n        // setHeader(head);\n\n        // console.log(head);\n\n        setItem({ ...newObj });\n      });\n    });\n    // setItem({ ...newObj });\n    console.log(newObj);\n    // onSnapshot(headerQuery, (snapshot) => {\n    //   const arr = snapshot.docs.map((docs) => ({\n    //     id: docs.id,\n    //     ...docs.data(),\n    //   }));\n    //   setItem({ headr: arr, ...item });\n    // });\n  }, []);\n\n  console.log(\"form my side\");\n  console.log(item);\n\n  return (\n    <div className=\"hom\">\n      <Header imgArray={item ? item.headr : undefined} />\n\n      <div className=\"cont-all\">\n        <div className=\"Best-list\">\n          <h2 className=\"Best-T\">Top Airing</h2>\n\n          <TopAriring imgArray={item ? item.topAiring : undefined} />\n        </div>\n\n        <div className=\"Best-list\">\n          <h2 className=\"Best-T\">Top Upcoming</h2>\n          <TopAriring imgArray={item ? item.topUpcoming : undefined} />\n        </div>\n\n        <div className=\"Best-list\">\n          <h2 className=\"Best-T\">All Time Popular</h2>\n          <TopAriring imgArray={item ? item.allTime : undefined} />\n        </div>\n      </div>\n\n      {/* {item[1].month.map((it) => (\n        <div key={it.id}>{it.value}</div>\n      ))} */}\n    </div>\n  );\n};\n\nexport default Home;\n\n//\n\n//\n\n// for each runs completly before running of onSnapshot ,this might be happening because onSnapshot does not run instantly\n\n// snapshot is taking time and thats why all them runs and in the end only allTime is left and it keep on runntig for four time s\n\n// one  option is you can use four snapshot because you already  have four query\n\n//\n\n//\n\n// somehow this query thing is running for 4 time  in earlier and then other code run but why it should not  run whole thing form top to bottom .  and this thing causes issue  , when we are using newObj , and thats why when we reach snapshot a is only all time and we are keep on extracting that from  newObj\n\n// dbService.onSnapshot(dbService.collection(dbService.))\n//need to do this thing for all four component\n// onSnapshot(collection(dbService.getFirestore(), \"header\"), (snapshot) => {\n//   const arr = snapshot.docs.map((docs) => ({\n//     id: docs.id,\n//     ...docs.data(),\n//   }));\n//   setItem(arr);\n// });\n\n//________********)______________************)______________\n\n//_______**********__________************____________************____\n\n// const dataObj = {\n//   headr: headerQuery,\n//   month: monthlyQuery,\n//   topUpcoming: topUpcominglyQuery,\n//   allTime: allTimeQuery,\n// };\n\n// dataArr.forEach((a) => {\n//   newObj[a] = dbService.query(\n//     collection(dbService.getFirestore(), \"allTime\"),\n//     orderBy(\"id\", \"asc\")\n//   );\n//   // console.log(\"newObj fans\");\n//   // console.log(newObj);\n// });\n\n// when i sperated query i am getting all the  snapshot but when i take query with the help of for loop and am unable to get snapshot\n\n// so is this means something wrong with query  or    query is a different type of action and snapshot is a different type of action\n"]},"metadata":{},"sourceType":"module"}